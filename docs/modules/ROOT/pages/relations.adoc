= Отношения (Relationships)

Отношения в ArchiMate показывают *связи* между элементами модели. Они помогают объяснить, *как* элементы *взаимодействуют*, *зависят* друг от друга и *как* одни элементы *реализуют*, *обслуживают* или *используют* другие. Отношения являются ключевым элементом, придающим смысл структуре модели.

== Структурные отношения

Структурные отношения описывают *постоянные* связи между элементами, часто указывающие на *состав*, *назначение* или *реализацию*.

=== Назначение (Assignment)

Назначение:: — это отношение между *субъектом* (например, роль, процесс) и *объектом* (например, процесс, функция, узел), указывающее, что субъект *выполняет*, *отвечает за* или *размещается на* объекте.

==== Назначение

Показывает *ответственность* или *размещение*. В бизнес-слое часто используется для связи ролей и процессов. В технологическом слое — для размещения ПО и артефактов на узлах.

==== Примеры

*Бизнес-роль* "Менеджер по продажам" *назначена* (Assignment) *Бизнес-процессу* "Обработка заказа". *Прикладной компонент* "CRM-система" *назначен* (Assignment) *Узлу* "Веб-сервер".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Субъект) | Элемент 2 (Объект)
| *Бизнес-роль*, *Бизнес-актор* | *Бизнес-процесс*, *Бизнес-функция*
| *Прикладной компонент* | *Узел*, *Системное программное обеспечение*
| *Системное программное обеспечение*, *Артефакт* | *Узел*
| *Прикладной компонент* | *Прикладной сервис*
|===

=== Реализация (Realization)

Реализация:: — это отношение, при котором один элемент *реализует* или *выполняет* поведение или функции другого элемента. Обычно идёт от более конкретного элемента к более абстрактному.

==== Назначение

Показывает, *как* более абстрактный элемент (например, функция, сервис, требование) *реализуется* более конкретным элементом (процессом, компонентом, артефактом).

==== Примеры

*Прикладной компонент* "Система обработки платежей" *реализует* (Realization) *Прикладную функцию* "Обработка платежа". *Прикладной процесс* "Создание отчёта" *реализует* (Realization) *Прикладной сервис* "API отчётов". *Требование* "Шифрование данных" *реализуется* (Realization) *Прикладным компонентом* "Модуль шифрования".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Реализующий) | Элемент 2 (Реализуемый)
| *Прикладной процесс*, *Прикладной компонент* | *Прикладная функция*, *Прикладной сервис*
| *Прикладной компонент*, *Системное программное обеспечение*, *Узел* | *Требование*, *Принцип*, *Цель*
| *Артефакт* | *Прикладной компонент*, *Системное программное обеспечение*
| *Представление* | *Бизнес-объект*
| *Контракт* | *Бизнес-услуга*, *Прикладной сервис*
| *Капабилити* | *Цель*, *Бизнес-функция*
| *Ресурс* | *Капабилити*
|===

=== Аггрегация (Aggregation)

Аггрегация:: — это *слабое* отношение "часть-целое", при котором часть *может существовать* независимо от целого. Указывает, что один элемент *содержит* другие элементы как части.

==== Назначение

Показывает *логическую группировку* элементов. Часть не обязательно зависит от целого.

==== Примеры

*Группировка* "Отдел разработки" *агрегирует* (Aggregation) *Бизнес-роли* "Frontend-разработчик", "Backend-разработчик". *Бизнес-объект* "Заказ" *агрегирует* (Aggregation) *Бизнес-объекты* "Товар", "Количество".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Целое) | Элемент 2 (Часть)
| *Группировка* | *Любой элемент ArchiMate*
| *Бизнес-объект* | *Бизнес-объект*
| *Капабилити* | *Капабилити*
| *Ресурс* | *Ресурс*
|===

=== Композиция (Composition)

Композиция:: — это *сильное* отношение "часть-целое", при котором часть *не может существовать* без целого. Указывает, что один элемент *состоит из* других элементов, и его существование тесно связано с частями.

==== Назначение

Показывает *жёсткую структурную зависимость*. Часть принадлежит только одному целому и удаляется при удалении целого.

==== Примеры

*Бизнес-функция* "Управление продажами" *состоит из* (Composition) *Бизнес-функций* "Обработка заказа", "Выставление счёта". *Прикладной процесс* "Обработка заказа" *состоит из* (Composition) *Прикладных функций*.

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Целое) | Элемент 2 (Часть)
| *Бизнес-функция* | *Бизнес-функция*
| *Прикладной процесс* | *Прикладная функция*, *Прикладной процесс*
| *Прикладной компонент* | *Прикладной компонент*, *Прикладной сервис*
| *Капабилити* | *Капабилити*
| *Ресурс* | *Ресурс*
|===

== Динамические отношения

Динамические отношения описывают *передачу* или *инициацию* действий между элементами.

=== Обслуживание (Serving)

Обслуживание:: — это отношение, при котором один элемент *предоставляет* свои функции или услуги другому элементу. Часто используется для описания взаимодействия между уровнями (например, приложение обслуживает бизнес).

==== Назначение

Показывает *использование* функциональности. Указывает, *кто* предоставляет услугу и *кто* её использует.

==== Примеры

*Прикладной сервис* "API аутентификации" *обслуживает* (Serving) *Бизнес-роль* "Пользователь". *Бизнес-услуга* "Доставка товара" *обслуживает* (Serving) *Бизнес-роль* "Клиент".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Поставщик) | Элемент 2 (Потребитель)
| *Бизнес-услуга* | *Бизнес-роль*, *Бизнес-актор*
| *Прикладной сервис* | *Бизнес-роль*, *Бизнес-актор*, *Прикладной компонент*
| *Системное программное обеспечение* | *Прикладной компонент*
| *Прикладной компонент* | *Прикладной компонент*
| *Бизнес-роль*, *Бизнес-актор* | *Бизнес-процесс*, *Бизнес-функция*
|===

=== Поток (Flow)

Поток:: — это отношение, при котором *информация* или *материал* *передаётся* от одного элемента к другому. Указывает на *динамическое взаимодействие*.

==== Назначение

Показывает *передачу данных* или *материалов* между элементами, часто в контексте процессов.

==== Примеры

*Бизнес-процесс* "Обработка заказа" *передаёт* (Flow) *информацию о заказе* *другому Бизнес-процессу* "Подготовка к отправке".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Источник) | Элемент 2 (Получатель)
| *Бизнес-процесс*, *Бизнес-функция* | *Бизнес-процесс*, *Бизнес-функция*
| *Прикладной процесс*, *Прикладной компонент* | *Прикладной процесс*, *Прикладной компонент*
|===

=== Триггеринг (Triggering)

Триггеринг:: — это отношение, при котором один элемент *инициирует* или *вызывает* выполнение другого элемента. Указывает на *каузальную связь*.

==== Назначение

Показывает *последовательность* действий или *инициацию* событий.

==== Примеры

*Бизнес-событие* "Получен заказ" *инициирует* (Triggering) *Бизнес-процесс* "Обработка заказа". *Прикладной процесс* "Проверка данных" *инициирует* (Triggering) *Прикладное событие* "Ошибка валидации".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Инициатор) | Элемент 2 (Инициируемый)
| *Бизнес-процесс*, *Бизнес-функция*, *Бизнес-событие* | *Бизнес-процесс*, *Бизнес-функция*, *Бизнес-событие*
| *Прикладной процесс*, *Прикладная функция*, *Прикладное событие* | *Прикладной процесс*, *Прикладная функция*, *Прикладное событие*
| *Реализация (событие)* | *Рабочий пакет*, *Другое событие*
| *Фаза* | *Другая фаза* (через Путь миграции)
|===

== Другие отношения

Другие отношения описывают *доступ* к информации или *семантическую связь*.

=== Доступ (Access)

Доступ:: — это отношение, при котором один элемент *читает* или *записывает* *данные*, представленные другим элементом. Указывает на *взаимодействие* с информацией.

==== Назначение

Показывает *использование* данных элементами поведения (процессами, функциями, взаимодействиями, компонентами).

==== Примеры

*Бизнес-процесс* "Обработка заказа" *получает доступ* (Access) к *Бизнес-объекту* "Клиент". *Прикладной компонент* "CRM-система" *получает доступ* (Access) к *Данным* "База данных клиентов".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Доступ к данным) | Элемент 2 (Данные)
| *Бизнес-процесс*, *Бизнес-функция*, *Бизнес-взаимодействие* | *Бизнес-объект*
| *Прикладной процесс*, *Прикладная функция*, *Прикладное взаимодействие*, *Прикладной компонент* | *Данные (Data Object)*
| *Системное программное обеспечение*, *Артефакт* | *Данные (Data Object)*
|===

=== Ассоциация (Association)

Ассоциация:: — это *общее* отношение между двумя элементами, указывающее на *семантическую связь*, не подпадающую под другие типы отношений. Может быть направленным или ненаправленным.

==== Назначение

Представляет *произвольную связь* между элементами. Часто используется для связи элементов мотивации с элементами других слоёв, или для связи субъектов с объектами.

==== Примеры

*Бизнес-роль* "Менеджер" *связана* (Association) с *Бизнес-объектом* "Отчёт". *Цель* "Повысить эффективность" *связана* (Association) с *Бизнес-процессом* "Оптимизация закупок". *Заинтересованная сторона* "Регулятор" *влияет* (через Association) на *Требование* "Соблюдение норм".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 | Элемент 2
| *Любой элемент ArchiMate* | *Любой элемент ArchiMate*
|===

=== Специализация (Specialization)

Специализация:: — это отношение, при котором один элемент *является специализацией* другого элемента. Более конкретный элемент *наследует* характеристики более общего.

==== Назначение

Позволяет создавать *иерархии* элементов, определяя *подтипы*.

==== Примеры

*Бизнес-роль* "Старший менеджер" *специализирует* (Specialization) *Бизнес-роль* "Менеджер". *Требование* "Шифрование по протоколу TLS 1.3" *специализирует* (Specialization) *Требование* "Шифрование данных".

==== Связанные элементы

[%header,cols="2,3"]
|===
| Элемент 1 (Специализация) | Элемент 2 (Общий тип)
| *Любой элемент ArchiMate* | *Тот же тип элемента ArchiMate*
|===

== Отношения между отношениями

Даже отношения могут быть связаны. Например, отношение `Access` может быть *аннотировано* или *ограничено* элементом мотивации (например, `Ограничение` или `Принцип`), указывающим на характер доступа (например, "только для чтения").

== Пример использования отношений

*Бизнес-роль* "Оператор" (Assignment) -> *Бизнес-процесс* "Обработка запроса". *Бизнес-процесс* "Обработка запроса" (Serving) -> *Прикладной сервис* "API поддержки". *Прикладной сервис* "API поддержки" (Realization) <- *Прикладной компонент* "Система поддержки". *Прикладной компонент* "Система поддержки" (Assignment) -> *Узел* "Веб-сервер". *Бизнес-процесс* "Обработка запроса" (Access) -> *Бизнес-объект* "Запрос".

Таким образом, отношения связывают элементы модели, создавая *смысловую сеть*, описывающую архитектуру.