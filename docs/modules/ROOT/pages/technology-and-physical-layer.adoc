= Технологический и физический уровни (Technology and Physical Layers)

Технологический и физический уровни ArchiMate описывают *инфраструктуру*, поддерживающую бизнес и приложения. Технологический уровень (Technology Layer) фокусируется на *вычислительных* и *программных* аспектах (узлы, системное ПО, артефакты, сети), а физический уровень (Physical Layer) — на *материальных* аспектах (оборудование, помещения, материалы, физические сети). Эти уровни тесно связаны, особенно в современных ИТ-ландшафтах.

== Элементы технологического уровня (Technology Layer)

Эти элементы описывают *технологическую инфраструктуру*.

=== Структурные элементы

==== Узел (Node)

Узел:: — это *физическая или виртуальная вычислительная единица*, на которой размещается *системное программное обеспечение* и *артефакты*. Узел обладает вычислительными ресурсами (например, CPU, RAM) и может выполнять программы.

===== Назначение

Представляет вычислительную платформу, на которой работает прикладное и системное ПО. Является основной единицей размещения на технологическом уровне.

===== Физические и виртуальные реализации

Элемент `Node` в ArchiMate является абстрактным. Он может представлять как физический сервер (аппаратное обеспечение), так и виртуальную машину (VM), контейнер или экземпляр облачного сервиса (например, AWS EC2, Azure VM). Конкретная реализация указывается в атрибутах узла или в сопутствующей документации. Это позволяет моделировать как традиционную инфраструктуру, так и виртуализированную и облачную.

===== Примеры

Физический сервер, виртуальная машина (VM), контейнер, экземпляр облачного сервиса (например, EC2 instance).

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Назначение (Assignment)* | *Системное программное обеспечение*, *Артефакт* (ПО/артефакт размещён на узле)
| *Назначение (Assignment)* | *Прикладной компонент* (приложение размещено на узле через системное ПО)
| *Аггрегация/Композиция (Aggregation/Composition)* | *Оборудование (Equipment)* (физический узел может быть частью физического оборудования)
| *Ассоциация (Association)* | *Другой узел* (узлы могут быть связаны)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (узел подключён к сети)
| *Ассоциация (Association)* | *Путь (Path)* (узел использует путь)
|===

==== Системное программное обеспечение (System Software)

Системное программное обеспечение:: — это *программное обеспечение*, управляющее и координирующее *узлы*. Оно предоставляет среду выполнения для прикладных компонентов и артефактов.

===== Назначение

Обеспечивает платформу для выполнения приложений. Включает операционные системы, контейнерные оркестраторы, веб-серверы, базы данных, промежуточное ПО.

===== Физические и виртуальные реализации

Системное программное обеспечение может быть установлено как на физические узлы, так и на виртуальные машины или запущено в контейнерах. Тип узла влияет на доступные функции и производительность ПО. Например, гипервизор (тип системного ПО) устанавливается на физический узел и управляет виртуальными машинами (которые также являются `Node`).

===== Примеры

Linux, Windows Server, Kubernetes, Docker, Apache Tomcat, MySQL, Oracle DB.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Назначение (Assignment)* | *Узел* (ПО размещено на узле)
| *Назначение (Assignment)* | *Прикладной компонент* (приложение размещено на системном ПО)
| *Назначение (Assignment)* | *Артефакт* (артефакт размещён на системном ПО)
| *Обслуживание (Serving)* | *Прикладной компонент* (ПО обслуживает приложение)
| *Реализация (Realization)* | *Артефакт* (ПО может реализовать артефакт)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (ПО использует сеть)
| *Ассоциация (Association)* | *Путь (Path)* (ПО использует путь)
| *Ассоциация (Association)* | *Технологический интерфейс (Technology Interface)* (ПО предоставляет/использует интерфейс)
| *Ассоциация (Association)* | *Технологическая функция/процесс/взаимодействие* (ПО исполняет функцию/процесс)
|===

==== Технологический интерфейс (Technology Interface)

Технологический интерфейс:: — это *точка взаимодействия* между *узлами* или *системным программным обеспечением*, через которую предоставляются *технологические сервисы*. Это спецификация способа взаимодейтсвия.

===== Назначение

Определяет *как* технологические сервисы доступны для других технологических компонентов. Является точкой подключения.

===== Примеры

Сокет, порт, API точки подключения, сетевой интерфейс (NIC).

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Узел*, *Системное программное обеспечение* (интерфейс *предоставляется* или *используется* узлом/ПО)
| *Ассоциация (Association)* | *Технологический сервис (Technology Service)* (интерфейс *предоставляет* сервис)
| *Ассоциация (Association)* | *Путь (Path)* (через интерфейс проходит путь)
|===

==== Технологическая функциональность (Technology Collaboration)

Технологическая функциональность:: — это *совместная работа* двух или более *узлов* или *системного программного обеспечения* для выполнения определённого *технологического поведения* (функции, процесса).

===== Назначение

Показывает, как компоненты взаимодействуют для достижения общей технологической цели.

===== Примеры

Кластер балансировщиков нагрузки, распределённая файловая система.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Композиция/Аггрегация (Composition/Aggregation)* | *Узел*, *Системное программное обеспечение* (функциональность *состоит из* компонентов)
| *Реализация (Realization)* | *Технологическая функция*, *Технологический процесс* (функциональность *реализует* поведение)
| *Обслуживание (Serving)* | *Технологический сервис* (функциональность *предоставляет* сервис)
|===

=== Поведенческие элементы

==== Технологическая функция (Technology Function)

Технологическая функция:: — это *высокоуровневая, стабильная* единица *технологического поведения*, реализуемая *узлом* или *системным программным обеспечением*.

===== Назначение

Описывает *что* делает технологическая инфраструктура, на более абстрактном уровне, чем процесс.

===== Примеры

Функция маршрутизации, функция шифрования.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Реализация (Realization)* | *Узел*, *Системное программное обеспечение* (компонент *реализует* функцию)
| *Реализация (Realization)* | *Технологический процесс* (процесс *реализует* функцию)
| *Обслуживание (Serving)* | *Технологический сервис* (функция *обеспечивает* сервис)
| *Композиция (Composition)* | *Другая технологическая функция* (функция может быть разложена)
| *Ассоциация (Association)* | *Системное программное обеспечение* (ПО *исполняет* функцию)
|===

==== Технологический процесс (Technology Process)

Технологический процесс:: — это *совокупность связанных, структурированных действий*, выполняемых *узлом* или *системным программным обеспечением*.

===== Назначение

Описывает *как* достигается определённая технологическая цель, включая последовательность шагов.

===== Примеры

Процесс резервного копирования, процесс синхронизации данных.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Реализация (Realization)* | *Узел*, *Системное программное обеспечение* (компонент *реализует* процесс)
| *Реализация (Realization)* | *Технологическая функция* (процесс *реализует* функцию)
| *Обслуживание (Serving)* | *Технологический сервис* (процесс *обеспечивает* сервис)
| *Триггеринг (Triggering)* | *Технологическое событие* (процесс может *инициировать* событие)
| *Триггеринг (Triggering)* | *Другой технологический процесс* (процесс может *инициировать* другой процесс)
| *Ассоциация (Association)* | *Системное программное обеспечение* (ПО *исполняет* процесс)
|===

==== Технологическое взаимодействие (Technology Interaction) *- ArchiMate 3.1+*

Технологическое взаимодействие:: — это *взаимодействие* между двумя или более *технологическими процессами* или *функциями*.

===== Назначение

Моделирует совместную работу нескольких технологических процессов/функций.

===== Примеры

Координация между процессами синхронизации.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Реализация (Realization)* | *Технологический процесс*, *Технологическая функция* (взаимодействие *реализовано* процессом/функцией)
| *Ассоциация (Association)* | *Технологическая функциональность (Technology Collaboration)* (взаимодействие может быть частью функциональности)
|===

==== Технологическое событие (Technology Event)

Технологическое событие:: — это *точка во времени* в технологической архитектуре, отмечающая факт, что *нечто произошло*.

===== Назначение

Моделирует моменты времени, важные для поведения технологических элементов.

===== Примеры

Сбой узла, завершение процесса резервного копирования.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Триггеринг (Triggering)* | *Технологический процесс*, *Другое технологическое событие* (событие может *инициировать* процесс или другое событие)
| *Триггеринг (Triggering)* | *Технологический процесс*, *Технологическая функция* (процесс/функция может *генерировать* событие)
| *Ассоциация (Association)* | *Системное программное обеспечение*, *Узел* (событие *связано* с компонентом)
|===

=== Элементы сервисов

==== Технологический сервис (Technology Service)

Технологический сервис:: — это *интерфейс*, предоставляемый *узлом* или *системным программным обеспечением*, который позволяет другим компонентам использовать его поведение.

===== Назначение

Определяет *функциональность*, предоставляемую технологической инфраструктурой, независимо от реализации.

===== Примеры

Служба DHCP, служба DNS, API платформы.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Обслуживание (Serving)* | *Узел*, *Системное программное обеспечение* (компонент *предоставляет* сервис)
| *Реализация (Realization)* | *Технологическая функция*, *Технологический процесс* (функция/процесс *реализует* сервис)
| *Обслуживание (Serving)* | *Прикладной компонент*, *Другой узел/ПО* (компонент *использует* сервис)
| *Ассоциация (Association)* | *Технологический интерфейс (Technology Interface)* (сервис *предоставляется* через интерфейс)
|===

=== Элементы данных

==== Артефакт (Artifact)

Артефакт:: — это *файловая структура*, реализующая *прикладной компонент* или *системное программное обеспечение*. Это конкретный элемент, который можно разместить на узле или системном ПО.

===== Назначение

Представляет *реализацию* прикладных или системных компонентов в виде файлов (исполняемые файлы, скрипты, библиотеки, конфигурации и т.д.).

===== Физические и виртуальные реализации

Артефакты размещаются на узлах или системном ПО, независимо от того, являются ли они физическими или виртуальными. Например, Docker-образ (артефакт) может быть размещён как на физическом узле, так и на виртуальной машине.

===== Примеры

JAR-файл, WAR-файл, EXE-файл, Docker-образ, скрипт, XML-конфигурация.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Реализация (Realization)* | *Прикладной компонент*, *Системное программное обеспечение* (артефакт реализует компонент/ПО)
| *Назначение (Assignment)* | *Узел*, *Системное программное обеспечение* (артефакт размещён на узле/ПО)
| *Доступ (Access)* | *Данные (Data Object)* (артефакт может использовать данные)
| *Ассоциация (Association)* | *Другой артефакт* (артефакты могут быть связаны)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (артефакт может использовать сеть)
| *Ассоциация (Association)* | *Путь (Path)* (артефакт может использовать путь)
|===

=== Элементы связи

==== Путь (Path)

Путь:: — это *логическое или физическое соединение* между *узлами*, позволяющее передачу данных. Путь может иметь атрибуты, такие как пропускная способность, задержка и надёжность.

===== Назначение

Моделирует каналы связи между узлами на технологическом уровне. Может представлять физическую сеть или логическую сеть (например, VLAN).

===== Физические и виртуальные реализации

Путь может представлять как физическую инфраструктуру (например, Ethernet-кабели, коммутаторы), так и виртуальные сетевые структуры (например, VLAN, VPN-туннели, виртуальные коммутаторы в гипервизорах). Это позволяет моделировать сложные сетевые топологии, включающие как физические, так и виртуальные компоненты.

===== Примеры

Соединение по TCP/IP, Ethernet-кабель, VLAN, VPN-туннель, виртуальный коммутатор.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Узел* (путь соединяет узлы)
| *Ассоциация (Association)* | *Системное программное обеспечение* (ПО может использовать путь)
| *Ассоциация (Association)* | *Артефакт* (артефакт может использовать путь)
| *Ассоциация (Association)* | *Технологический интерфейс (Technology Interface)* (путь проходит через интерфейс)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (путь *существует в* сети)
| *Ассоциация (Association)* | *Другой путь* (пути могут быть связаны)
|===

== Элементы физического уровня (Physical Layer)

Эти элементы описывают *физическую инфраструктуру*.

=== Структурные элементы

==== Оборудование (Equipment)

Оборудование:: — это *физическое устройство*, такое как сервер, маршрутизатор, коммутатор, хранилище или другое сетевое оборудование. Оборудование может содержать *узлы* и обеспечивать им физические ресурсы.

===== Назначение

Моделирует физические ИТ-ресурсы. Может использоваться для представления инфраструктуры на уровне дата-центра.

===== Физические и виртуальные реализации

Оборудование (`Equipment`) всегда представляет *физические* устройства. Если `Equipment` содержит `Node`, это означает, что физическое устройство (например, сервер) физически размещает вычислительный узел (например, виртуальную машину или гостевую ОС). Архитектура может моделировать как непосредственно физические серверы как `Node`, так и `Equipment`, содержащее `Node` (например, физический сервер, на котором запущена ВМ).

===== Примеры

Сервер Dell PowerEdge, маршрутизатор Cisco, NAS-устройство, коммутатор.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Композиция/Аггрегация (Composition/Aggregation)* | *Узел* (физическое оборудование *содержит* узлы, например, ВМ)
| *Ассоциация (Association)* | *Другое оборудование* (оборудование может быть связано)
| *Назначение (Assignment)* | *Фасилити (Facility)* (оборудование размещено в помещении/стойке)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (оборудование подключено к сети)
| *Ассоциация (Association)* | *Распределительная сеть (Distribution Network)* (оборудование подключено к физической инфраструктуре)
| *Ассоциация (Association)* | *Материал (Material)* (оборудование *обрабатывает* или *использует* материал)
|===

==== Устройство (Device) *- Physical Layer Element*

Устройство:: — это *физическое вычислительное устройство*, обладающее *вычислительными ресурсами* и часто *встроенным программным обеспечением*. Оно может выполнять программы и взаимодействовать с другими физическими или технологическими элементами.

===== Назначение

Моделирует *физические вычислительные устройства*, которые могут быть более автономными, чем просто `Equipment`, и могут выполнять *физические процессы* или *технологические функции*.

===== Примеры

Промышленный контроллер (PLC), датчик, исполнительный механизм, умный терминал, IoT-устройство.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Физический процесс*, *Физическая функция* (устройство *исполняет* физический процесс/функцию)
| *Ассоциация (Association)* | *Технологическая функция*, *Системное программное обеспечение* (устройство может *выполнять* технологическую функцию или содержать ПО)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (устройство подключено к сети)
| *Ассоциация (Association)* | *Распределительная сеть (Distribution Network)* (устройство подключено к физической инфраструктуре)
| *Назначение (Assignment)* | *Фасилити (Facility)* (устройство размещено в помещении)
| *Ассоциация (Association)* | *Материал (Material)* (устройство *обрабатывает* или *взаимодействует* с материалом)
|===

==== Фасилити (Facility)

Фасилити:: — это *физическое пространство*, такое как здание, дата-центр, комната или стойка.

===== Назначение

Определяет *местоположение* физических и технологических элементов.

===== Примеры

Дата-центр DC1, серверная комната R101, стойка Rack A01.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Назначение (Assignment)* | *Оборудование (Equipment)*, *Устройство (Device)* (элементы *размещены в* фасилити)
| *Ассоциация (Association)* | *Распределительная сеть (Distribution Network)* (фасилити *соединен* сетью)
|===

=== Элементы связи

==== Коммуникационная сеть (Communication Network)

Коммуникационная сеть:: — это *среда*, через которую *передаются* данные между *узлами*, *оборудованием* и *системным программным обеспечением*. Она определяет *характеристики* передачи (например, протокол, пропускную способность, надёжность).

===== Назначение

Описывает *физическую или логическую сеть*, обеспечивающую связь между технологическими и физическими элементами. Является основой для `Path` и других сетевых взаимодействий.

===== Физические и виртуальные реализации

Может представлять как физическую инфраструктуру (например, Ethernet, WiFi), так и логические сетевые структуры (например, VLAN, сеть VPN, облачные VPC).

===== Примеры

Локальная сеть (LAN), глобальная сеть (WAN), VLAN, сеть WiFi, сеть MPLS, облачная VPC.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Узел*, *Оборудование*, *Системное программное обеспечение*, *Артефакт*, *Устройство* (элементы *подключены к* или *используют* сеть)
| *Ассоциация (Association)* | *Путь* (пути могут быть *частью* сети)
| *Ассоциация (Association)* | *Другая коммуникационная сеть* (сети могут быть связаны)
|===

==== Распределительная сеть (Distribution Network)

Распределительная сеть:: — это *физическая инфраструктура*, через которую *перемещаются* *материалы* между *фасилити* и *оборудованием*.

===== Назначение

Описывает *физическую транспортную инфраструктуру* (например, дороги, трубы, конвейеры), используемую для перемещения физических объектов.

===== Примеры

Дороги, железнодорожные пути, трубопроводы, конвейерные линии, транспортеры.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Фасилити*, *Оборудование*, *Устройство* (элементы *подключены к* или *используют* сеть)
| *Ассоциация (Association)* | *Материал (Material)* (материал *перемещается* по сети)
| *Ассоциация (Association)* | *Другая распределительная сеть* (сети могут быть связаны)
|===

=== Элементы данных

==== Материал (Material)

Материал:: — это *физический объект* или *вещество*, участвующее в *физических процессах* и *взаимодействиях*.

===== Назначение

Описывает *содержимое* физических процессов, аналогично `Данным (Data Object)` для бизнес/прикладных процессов.

===== Примеры

Сырьё, продукт, жидкость, газ, отходы, детали.

===== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Физический процесс*, *Физическая функция*, *Физическое взаимодействие* (процесс/функция *использует* или *производит* материал)
| *Ассоциация (Association)* | *Оборудование*, *Устройство* (элемент *обрабатывает* или *хранит* материал)
| *Ассоциация (Association)* | *Распределительная сеть (Distribution Network)* (материал *перемещается* по сети)
|===

== Отношения между технологическим и физическим уровнями

Уровни тесно связаны, особенно в сценариях IoT, промышленной автоматизации и физического размещения ИТ-инфраструктуры.

* **Назначение (Assignment):** *Оборудование* и *Устройства* *размещаются* в *Фасилити*.
* **Композиция/Аггрегация:** *Физическое оборудование* может *содержать* *Узлы* (например, физический сервер содержит ВМ).
* **Ассоциация (Association):** *Узлы*, *Оборудование*, *Устройства* *подключаются* к *Коммуникационным сетям* и *Распределительным сетям*.
* **Ассоциация (Association):** *Устройства* и *Оборудование* могут *взаимодействовать* с *Материалами* и *Физическими процессами*.

== Пример использования технологического и физического уровней

Рассмотрим умный дата-центр.

. *Оборудование* "Серверный шкаф" *содержит* (Composition) *Оборудование* "Физические серверы", которые моделируются как *Узлы* "VM Host 1", "VM Host 2".
. *Узлы* "VM Host 1/2" *размещают* (Assignment) *Системное программное обеспечение* "Гипервизор" и *Прикладные компоненты* "CRM App VM", "DB VM".
. *Узлы* и *Оборудование* подключены к *Коммуникационной сети* "ИТ-сеть дата-центра".
. *Устройства* "Датчики температуры" *размещены* (Assignment) в *Фасилити* "Дата-центр DC1".
. *Устройства* "Датчики" *взаимодействуют* (Association) с *Физическим процессом* "Мониторинг окружающей среды" и *Материалом* "Воздух" (температура).
. *Устройства* "Датчики" *подключены* (Association) к *Коммуникационной сети* "IoT-сеть дата-центра", через которую *передают* данные *Прикладному компоненту* "Система мониторинга".
. *Фасилити* "Дата-центр DC1" *соединен* (Association) с *Распределительной сетью* "Электросеть" и *Оборудованием* "ИБП".

Таким образом, объединение уровней позволяет моделировать сложные ИТ-и-физические сценарии.