= Технологический и физический уровни (Technology and Physical Layers)

Технологический и физический уровни ArchiMate описывают *инфраструктуру*, поддерживающую бизнес и приложения. Технологический уровень (Technology Layer) фокусируется на *вычислительных* и *программных* аспектах (узлы, системное ПО, артефакты, сети), а физический уровень (Physical Layer) — на *материальных* аспектах (оборудование, помещения, материалы, физические сети). Эти уровни тесно связаны, особенно в современных ИТ-ландшафтах.

== Уровень Technology

=== Узел (Node)

==== Назначение

Элемент *Technology Layer*, *структурный элемент*. Физическая или виртуальная вычислительная единица, на которой размещается *системное программное обеспечение* и *артефакты*. Узел обладает вычислительными ресурсами (например, CPU, RAM) и может выполнять программы.

==== Физические и виртуальные реализации

Элемент `Node` в ArchiMate является абстрактным. Он может представлять как физический сервер (аппаратное обеспечение), так и виртуальную машину (VM), контейнер или экземпляр облачного сервиса (например, AWS EC2, Azure VM). Конкретная реализация указывается в атрибутах узла или в сопутствующей документации. Это позволяет моделировать как традиционную инфраструктуру, так и виртуализированную и облачную.

==== Примеры

Физический сервер, виртуальная машина (VM), контейнер, экземпляр облачного сервиса (например, EC2 instance).

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Назначение (Assignment)* | *Системное программное обеспечение*, *Артефакт* (ПО/артефакт размещён на узле)
| *Назначение (Assignment)* | *Прикладной компонент* (приложение размещено на узле через системное ПО)
| *Аггрегация/Композиция (Aggregation/Composition)* | *Оборудование (Equipment)* (физический узел может быть частью физического оборудования)
| *Ассоциация (Association)* | *Другой узел* (узлы могут быть связаны)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (узел подключён к сети)
| *Ассоциация (Association)* | *Путь (Path)* (узел использует путь)
|===

=== Системное программное обеспечение (System Software)

==== Назначение

Элемент *Technology Layer*, *структурный элемент*. Программное обеспечение, управляющее и координирующее *узлы*. Оно предоставляет среду выполнения для прикладных компонентов и артефактов.

==== Физические и виртуальные реализации

Системное программное обеспечение может быть установлено как на физические узлы, так и на виртуальные машины или запущено в контейнерах. Тип узла влияет на доступные функции и производительность ПО. Например, гипервизор (тип системного ПО) устанавливается на физический узел и управляет виртуальными машинами (которые также являются `Node`).

==== Примеры

Linux, Windows Server, Kubernetes, Docker, Apache Tomcat, MySQL, Oracle DB.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Назначение (Assignment)* | *Узел* (ПО размещено на узле)
| *Назначение (Assignment)* | *Прикладной компонент* (приложение размещено на системном ПО)
| *Назначение (Assignment)* | *Артефакт* (артефакт размещён на системном ПО)
| *Обслуживание (Serving)* | *Прикладной компонент* (ПО обслуживает приложение)
| *Реализация (Realization)* | *Артефакт* (ПО может реализовать артефакт)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (ПО использует сеть)
| *Ассоциация (Association)* | *Путь (Path)* (ПО использует путь)
| *Ассоциация (Association)* | *Технологический интерфейс (Technology Interface)* (ПО предоставляет/использует интерфейс)
| *Ассоциация (Association)* | *Технологическая функция/процесс/взаимодействие* (ПО исполняет функцию/процесс)
|===

=== Технологический интерфейс (Technology Interface)

==== Назначение

Элемент *Technology Layer*, *структурный элемент*. Точка взаимодействия между *узлами* или *системным программным обеспечением*, через которую предоставляются *технологические сервисы*. Это спецификация способа взаимодейтсвия.

==== Примеры

Сокет, порт, API точки подключения, сетевой интерфейс (NIC).

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Узел*, *Системное программное обеспечение* (интерфейс *предоставляется* или *используется* узлом/ПО)
| *Ассоциация (Association)* | *Технологический сервис (Technology Service)* (интерфейс *предоставляет* сервис)
| *Ассоциация (Association)* | *Путь (Path)* (через интерфейс проходит путь)
|===

=== Технологическая функциональность (Technology Collaboration)

==== Назначение

Элемент *Technology Layer*, *структурный элемент*. Совместная работа двух или более *узлов* или *системного программного обеспечения* для выполнения определённого *технологического поведения* (функции, процесса).

==== Примеры

Кластер балансировщиков нагрузки, распределённая файловая система.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Композиция/Аггрегация (Composition/Aggregation)* | *Узел*, *Системное программное обеспечение* (функциональность *состоит из* компонентов)
| *Реализация (Realization)* | *Технологическая функция*, *Технологический процесс* (функциональность *реализует* поведение)
| *Обслуживание (Serving)* | *Технологический сервис* (функциональность *предоставляет* сервис)
|===

=== Технологическая функция (Technology Function)

==== Назначение

Элемент *Technology Layer*, *поведенческий элемент*. Высокоуровневая, стабильная единица *технологического поведения*, реализуемая *узлом* или *системным программным обеспечением*.

==== Примеры

Функция маршрутизации, функция шифрования.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Реализация (Realization)* | *Узел*, *Системное программное обеспечение* (компонент *реализует* функцию)
| *Реализация (Realization)* | *Технологический процесс* (процесс *реализует* функцию)
| *Обслуживание (Serving)* | *Технологический сервис* (функция *обеспечивает* сервис)
| *Композиция (Composition)* | *Другая технологическая функция* (функция может быть разложена)
| *Ассоциация (Association)* | *Системное программное обеспечение* (ПО *исполняет* функцию)
|===

=== Технологический процесс (Technology Process)

==== Назначение

Элемент *Technology Layer*, *поведенческий элемент*. Совокупность связанных, структурированных действий, выполняемых *узлом* или *системным программным обеспечением*.

==== Примеры

Процесс резервного копирования, процесс синхронизации данных.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Реализация (Realization)* | *Узел*, *Системное программное обеспечение* (компонент *реализует* процесс)
| *Реализация (Realization)* | *Технологическая функция* (процесс *реализует* функцию)
| *Обслуживание (Serving)* | *Технологический сервис* (процесс *обеспечивает* сервис)
| *Триггеринг (Triggering)* | *Технологическое событие* (процесс может *инициировать* событие)
| *Триггеринг (Triggering)* | *Другой технологический процесс* (процесс может *инициировать* другой процесс)
| *Ассоциация (Association)* | *Системное программное обеспечение* (ПО *исполняет* процесс)
|===

=== Технологическое взаимодействие (Technology Interaction) *- ArchiMate 3.1+*

==== Назначение

Элемент *Technology Layer*, *поведенческий элемент*. Взаимодействие между двумя или более *технологическими процессами* или *функциями*.

==== Примеры

Координация между процессами синхронизации.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Реализация (Realization)* | *Технологический процесс*, *Технологическая функция* (взаимодействие *реализовано* процессом/функцией)
| *Ассоциация (Association)* | *Технологическая функциональность (Technology Collaboration)* (взаимодействие может быть частью функциональности)
|===

=== Технологическое событие (Technology Event)

==== Назначение

Элемент *Technology Layer*, *поведенческий элемент*. Точка во времени в технологической архитектуре, отмечающая факт, что *нечто произошло*.

==== Примеры

Сбой узла, завершение процесса резервного копирования.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Триггеринг (Triggering)* | *Технологический процесс*, *Другое технологическое событие* (событие может *инициировать* процесс или другое событие)
| *Триггеринг (Triggering)* | *Технологический процесс*, *Технологическая функция* (процесс/функция может *генерировать* событие)
| *Ассоциация (Association)* | *Системное программное обеспечение*, *Узел* (событие *связано* с компонентом)
|===

=== Технологический сервис (Technology Service)

==== Назначение

Элемент *Technology Layer*, *элемент сервиса*. Интерфейс, предоставляемый *узлом* или *системным программным обеспечением*, который позволяет другим компонентам использовать его поведение.

==== Примеры

Служба DHCP, служба DNS, API платформы.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Обслуживание (Serving)* | *Узел*, *Системное программное обеспечение* (компонент *предоставляет* сервис)
| *Реализация (Realization)* | *Технологическая функция*, *Технологический процесс* (функция/процесс *реализует* сервис)
| *Обслуживание (Serving)* | *Прикладной компонент*, *Другой узел/ПО* (компонент *использует* сервис)
| *Ассоциация (Association)* | *Технологический интерфейс (Technology Interface)* (сервис *предоставляется* через интерфейс)
|===

=== Артефакт (Artifact)

==== Назначение

Элемент *Technology Layer*, *элемент данных*. Файловая структура, реализующая *прикладной компонент* или *системное программное обеспечение*. Это конкретный элемент, который можно разместить на узле или системном ПО.

==== Физические и виртуальные реализации

Артефакты размещаются на узлах или системном ПО, независимо от того, являются ли они физическими или виртуальными. Например, Docker-образ (артефакт) может быть размещён как на физическом узле, так и на виртуальной машине.

==== Примеры

JAR-файл, WAR-файл, EXE-файл, Docker-образ, скрипт, XML-конфигурация.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Реализация (Realization)* | *Прикладной компонент*, *Системное программное обеспечение* (артефакт реализует компонент/ПО)
| *Назначение (Assignment)* | *Узел*, *Системное программное обеспечение* (артефакт размещён на узле/ПО)
| *Доступ (Access)* | *Данные (Data Object)* (артефакт может использовать данные)
| *Ассоциация (Association)* | *Другой артефакт* (артефакты могут быть связаны)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (артефакт может использовать сеть)
| *Ассоциация (Association)* | *Путь (Path)* (артефакт может использовать путь)
|===

=== Путь (Path)

==== Назначение

Элемент *Technology Layer*, *элемент связи*. Логическое или физическое соединение между *узлами*, позволяющее передачу данных. Путь может иметь атрибуты, такие как пропускная способность, задержка и надёжность.

==== Физические и виртуальные реализации

Путь может представлять как физическую инфраструктуру (например, Ethernet-кабели, коммутаторы), так и виртуальные сетевые структуры (например, VLAN, VPN-туннели, виртуальные коммутаторы в гипервизорах). Это позволяет моделировать сложные сетевые топологии, включающие как физические, так и виртуальные компоненты.

==== Примеры

Соединение по TCP/IP, Ethernet-кабель, VLAN, VPN-туннель, виртуальный коммутатор.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Узел* (путь соединяет узлы)
| *Ассоциация (Association)* | *Системное программное обеспечение* (ПО может использовать путь)
| *Ассоциация (Association)* | *Артефакт* (артефакт может использовать путь)
| *Ассоциация (Association)* | *Технологический интерфейс (Technology Interface)* (путь проходит через интерфейс)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (путь *существует в* сети)
| *Ассоциация (Association)* | *Другой путь* (пути могут быть связаны)
|===

== Уровень Physical

=== Оборудование (Equipment)

==== Назначение

Элемент *Physical Layer*, *структурный элемент*. Физическое устройство, такое как сервер, маршрутизатор, коммутатор, хранилище или другое сетевое оборудование. Оборудование может содержать *узлы* и обеспечивать им физические ресурсы.

==== Физические и виртуальные реализации

Оборудование (`Equipment`) всегда представляет *физические* устройства. Если `Equipment` содержит `Node`, это означает, что физическое устройство (например, сервер) физически размещает вычислительный узел (например, виртуальную машину или гостевую ОС). Архитектура может моделировать как непосредственно физические серверы как `Node`, так и `Equipment`, содержащее `Node` (например, физический сервер, на котором запущена ВМ).

==== Примеры

Сервер Dell PowerEdge, маршрутизатор Cisco, NAS-устройство, коммутатор.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Композиция/Аггрегация (Composition/Aggregation)* | *Узел* (физическое оборудование *содержит* узлы, например, ВМ)
| *Ассоциация (Association)* | *Другое оборудование* (оборудование может быть связано)
| *Назначение (Assignment)* | *Фасилити (Facility)* (оборудование размещено в помещении/стойке)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (оборудование подключено к сети)
| *Ассоциация (Association)* | *Распределительная сеть (Distribution Network)* (оборудование подключено к физической инфраструктуре)
| *Ассоциация (Association)* | *Материал (Material)* (оборудование *обрабатывает* или *использует* материал)
|===

=== Устройство (Device) *- Physical Layer Element*

==== Назначение

Элемент *Physical Layer*, *структурный элемент*. Физическое вычислительное устройство, обладающее *вычислительными ресурсами* и часто *встроенным программным обеспечением*. Оно может выполнять программы и взаимодействовать с другими физическими или технологическими элементами.

==== Примеры

Промышленный контроллер (PLC), датчик, исполнительный механизм, умный терминал, IoT-устройство.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Физический процесс*, *Физическая функция* (устройство *исполняет* физический процесс/функцию)
| *Ассоциация (Association)* | *Технологическая функция*, *Системное программное обеспечение* (устройство может *выполнять* технологическую функцию или содержать ПО)
| *Ассоциация (Association)* | *Коммуникационная сеть (Communication Network)* (устройство подключено к сети)
| *Ассоциация (Association)* | *Распределительная сеть (Distribution Network)* (устройство подключено к физической инфраструктуре)
| *Назначение (Assignment)* | *Фасилити (Facility)* (устройство размещено в помещении)
| *Ассоциация (Association)* | *Материал (Material)* (устройство *обрабатывает* или *взаимодействует* с материалом)
|===

=== Фасилити (Facility)

==== Назначение

Элемент *Physical Layer*, *структурный элемент*. Физическое пространство, такое как здание, дата-центр, комната или стойка.

==== Примеры

Дата-центр DC1, серверная комната R101, стойка Rack A01.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Назначение (Assignment)* | *Оборудование (Equipment)*, *Устройство (Device)* (элементы *размещены в* фасилити)
| *Ассоциация (Association)* | *Распределительная сеть (Distribution Network)* (фасилити *соединен* сетью)
|===

=== Коммуникационная сеть (Communication Network)

==== Назначение

Элемент *Physical Layer*, *элемент связи*. Среда, через которую *передаются* данные между *узлами*, *оборудованием* и *системным программным обеспечением*. Она определяет *характеристики* передачи (например, протокол, пропускную способность, надёжность).

==== Назначение (в контексте Technology Layer)

Также тесно связан с Technology Layer, обеспечивая физическую основу для технологических сетей.

==== Физические и виртуальные реализации

Может представлять как физическую инфраструктуру (например, Ethernet, WiFi), так и логические сетевые структуры (например, VLAN, сеть VPN, облачные VPC).

==== Примеры

Локальная сеть (LAN), глобальная сеть (WAN), VLAN, сеть WiFi, сеть MPLS, облачная VPC.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Узел*, *Оборудование*, *Системное программное обеспечение*, *Артефакт*, *Устройство* (элементы *подключены к* или *используют* сеть)
| *Ассоциация (Association)* | *Путь* (пути могут быть *частью* сети)
| *Ассоциация (Association)* | *Другая коммуникационная сеть* (сети могут быть связаны)
|===

=== Распределительная сеть (Distribution Network)

==== Назначение

Элемент *Physical Layer*, *элемент связи*. Физическая инфраструктура, через которую *перемещаются* *материалы* между *фасилити* и *оборудованием*.

==== Примеры

Дороги, железнодорожные пути, трубопроводы, конвейерные линии, транспортеры.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Фасилити*, *Оборудование*, *Устройство* (элементы *подключены к* или *используют* сеть)
| *Ассоциация (Association)* | *Материал (Material)* (материал *перемещается* по сети)
| *Ассоциация (Association)* | *Другая распределительная сеть* (сети могут быть связаны)
|===

=== Материал (Material)

==== Назначение

Элемент *Physical Layer*, *элемент данных*. Физический объект или *вещество*, участвующее в *физических процессах* и *взаимодействиях*.

==== Примеры

Сырьё, продукт, жидкость, газ, отходы, детали.

==== Отношения

[%header,cols="2,3"]
|===
| Тип отношения | Возможные связанные элементы
| *Ассоциация (Association)* | *Физический процесс*, *Физическая функция*, *Физическое взаимодействие* (процесс/функция *использует* или *производит* материал)
| *Ассоциация (Association)* | *Оборудование*, *Устройство* (элемент *обрабатывает* или *хранит* материал)
| *Ассоциация (Association)* | *Распределительная сеть (Distribution Network)* (материал *перемещается* по сети)
|===

== Отношения между технологическим и физическим уровнями

Уровни тесно связаны, особенно в сценариях IoT, промышленной автоматизации и физического размещения ИТ-инфраструктуры.

* **Назначение (Assignment):** *Оборудование* и *Устройства* *размещаются* в *Фасилити*.
* **Композиция/Аггрегация:** *Физическое оборудование* может *содержать* *Узлы* (например, физический сервер содержит ВМ).
* **Ассоциация (Association):** *Узлы*, *Оборудование*, *Устройства* *подключаются* к *Коммуникационным сетям* и *Распределительным сетям*.
* **Ассоциация (Association):** *Устройства* и *Оборудование* могут *взаимодействовать* с *Материалами* и *Физическими процессами*.

== Пример использования технологического и физического уровней

Рассмотрим умный дата-центр.

. *Оборудование* "Серверный шкаф" *содержит* (Composition) *Оборудование* "Физические серверы", которые моделируются как *Узлы* "VM Host 1", "VM Host 2".
. *Узлы* "VM Host 1/2" *размещают* (Assignment) *Системное программное обеспечение* "Гипервизор" и *Прикладные компоненты* "CRM App VM", "DB VM".
. *Узлы* и *Оборудование* подключены к *Коммуникационной сети* "ИТ-сеть дата-центра".
. *Устройства* "Датчики температуры" *размещены* (Assignment) в *Фасилити* "Дата-центр DC1".
. *Устройства* "Датчики" *взаимодействуют* (Association) с *Физическим процессом* "Мониторинг окружающей среды" и *Материалом* "Воздух" (температура).
. *Устройства* "Датчики" *подключены* (Association) к *Коммуникационной сети* "IoT-сеть дата-центра", через которую *передают* данные *Прикладному компоненту* "Система мониторинга".
. *Фасилити* "Дата-центр DC1" *соединен* (Association) с *Распределительной сетью* "Электросеть" и *Оборудованием* "ИБП".

Таким образом, объединение уровней позволяет моделировать сложные ИТ-и-физические сценарии.